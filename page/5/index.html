<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blueinyou.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Paul C&#39;s Blog">
<meta property="og:url" content="https://blueinyou.com/page/5/index.html">
<meta property="og:site_name" content="Paul C&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Paul C">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blueinyou.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Paul C's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Paul C's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">To be funny,to grow up!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/CTF/rev01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/CTF/rev01/" class="post-title-link" itemprop="url">zer0pt chall题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-16 14:19:49" itemprop="dateCreated datePublished" datetime="2023-07-16T14:19:49+08:00">2023-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-29 09:52:08" itemprop="dateModified" datetime="2023-08-29T09:52:08+08:00">2023-08-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这道题是一道已知RC4的密文和密钥，反求明文的伪装成逆向的密码题。</p>
<p><img src="/categories/CTF/rev01/1689514292270.png" alt="1689514292270"></p>
<p>​                                                                    图1</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>反汇编时，要深入每个关键函数看一看，不能想当然。</p>
<p>IDA给出的伪代码代码大部分时候还是十分正确的，直接看伪代码比反汇编代码正确率要来得高。</p>
<h2 id="干扰项："><a href="#干扰项：" class="headerlink" title="干扰项："></a>干扰项：</h2><p><img src="/categories/CTF/rev01/1689514736957.png" alt="1689514736957"></p>
<p>在IDA的反汇编界面看代码，会误以为密钥为key</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key_rodata = b&quot;\xBE\xBA\xFE\xCA\xEF\xBE\xAD\xDE&quot;</span><br></pre></td></tr></table></figure>
<p>也会误认为密文为enc</p>
<p><img src="/categories/CTF/rev01/1689514809165.png" alt="1689514809165"></p>
<p>不管任何一个弄错，都会使得结果错误。</p>
<p>干扰原因：按照C调用约定，在call之前的部分应该是函数的参数部分，但是<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__int64 __usercall RC4_setkey@&lt;rax&gt;(__int64 RC4_key@&lt;r12&gt;, __int64 RC4_keytable@&lt;r13&gt;)</span><br><span class="line">char __usercall memcmp@&lt;al&gt;(unsigned int a1@&lt;edx&gt;, __int64 a2@&lt;r14&gt;)</span><br></pre></td></tr></table></figure></p>
<p>这里是作者自定义的call行为，call之前的内容并不全是函数的参数。</p>
<p>对于RC4_setkey，其真正的RC4_key是r12,。</p>
<p><img src="/categories/CTF/rev01/1689515709788.png" alt="1689515709788"></p>
<p>而r12早就被赋予了值，其值为val，在got表中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">main         push    rbp</span><br><span class="line">main+1      sub     rsp, 200h</span><br><span class="line">main+8      mov     ecx, 200h</span><br><span class="line">main+D      xor     eax, eax</span><br><span class="line">main+F      mov     rdi, rsp</span><br><span class="line">main+12     repne stosb</span><br><span class="line">main+14     mov     ebx, 6</span><br><span class="line">main+19     lea     rbp, flag       ; &quot;FLAG: &quot;</span><br><span class="line">main+20     lea     r12, val</span><br><span class="line">main+27     mov     r15, rsp</span><br><span class="line">main+2A     lea     r14, [r15+80h]</span><br><span class="line">main+31     lea     r13, [r15+100h]</span><br></pre></td></tr></table></figure>
<p>对于memcmp，也类似，在其函数内部，再次修改rsi，其真正比较的是dat和r14.</p>
<p><img src="/categories/CTF/rev01/1689516066778.png" alt="1689516066778"></p>
<p>正确的密钥和密文都在got表里</p>
<p>如图1所示，密钥应该为图1所示的val所对应的内容，密文应该为dat对应内容。</p>
<p><img src="/categories/CTF/rev01/1689515029709.png" alt="1689515029709"></p>
<h2 id="密文获取"><a href="#密文获取" class="headerlink" title="密文获取"></a>密文获取</h2><p><code>memcmp</code>里返回dat数组和传入的结果数组的比较情况，真正的密文应该是dat数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result |= *((_BYTE *)&amp;dat + v3) ^ *(_BYTE *)(a2 + v3);</span><br></pre></td></tr></table></figure>
<p>点击第一处字节后，按下(Alt+L)，再点击最后一处字节，就可以选定待导出的密文部分。</p>
<p><img src="/categories/CTF/rev01/1689513948497.png" alt="1689513948497"></p>
<p>Shift+E，导出Array数组，复制粘贴到python代码里。</p>
<p><img src="/categories/CTF/rev01/1689513831064.png" alt="1689513831064"></p>
<h2 id="解密代码："><a href="#解密代码：" class="headerlink" title="解密代码："></a>解密代码：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 已知的密钥表和加密文本</span></span><br><span class="line">RC4_key=     <span class="string">b&quot;\x31\x09\x81\x19\x19\x14\x45\x11&quot;</span></span><br><span class="line">cmp_data =<span class="built_in">bytes</span>([</span><br><span class="line">  <span class="number">0x78</span>, <span class="number">0xCF</span>, <span class="number">0xC4</span>, <span class="number">0x85</span>, <span class="number">0xDC</span>, <span class="number">0x33</span>, <span class="number">0x07</span>, <span class="number">0x4C</span>, <span class="number">0x93</span>, <span class="number">0x35</span>, </span><br><span class="line">  <span class="number">0xFB</span>, <span class="number">0x7C</span>, <span class="number">0x10</span>, <span class="number">0x8E</span>, <span class="number">0xBE</span>, <span class="number">0x93</span>, <span class="number">0x28</span>, <span class="number">0xE6</span>, <span class="number">0x2E</span>, <span class="number">0x75</span>, </span><br><span class="line">  <span class="number">0xDA</span>, <span class="number">0x5E</span>, <span class="number">0x85</span>, <span class="number">0xC5</span>, <span class="number">0x91</span>, <span class="number">0x15</span>, <span class="number">0x75</span>, <span class="number">0x89</span>, <span class="number">0x48</span>, <span class="number">0x0E</span>, </span><br><span class="line">  <span class="number">0x29</span>, <span class="number">0xA4</span>, <span class="number">0xF9</span>, <span class="number">0xA6</span>, <span class="number">0x3A</span>, <span class="number">0x6E</span>, <span class="number">0x1F</span>, <span class="number">0x84</span>, <span class="number">0xF7</span>, <span class="number">0x42</span>, </span><br><span class="line">  <span class="number">0xB0</span>, <span class="number">0x93</span>, <span class="number">0x31</span>, <span class="number">0xF0</span>, <span class="number">0x68</span>, <span class="number">0xC0</span>, <span class="number">0x43</span>, <span class="number">0x38</span>, <span class="number">0x07</span>, <span class="number">0x32</span>, </span><br><span class="line">  <span class="number">0x09</span>, <span class="number">0x57</span>, <span class="number">0xDA</span>, <span class="number">0x32</span>, <span class="number">0x44</span>, <span class="number">0xCF</span>, <span class="number">0xCD</span>, <span class="number">0x8F</span>, <span class="number">0xE5</span>, <span class="number">0xBF</span>, </span><br><span class="line">  <span class="number">0xE3</span>, <span class="number">0xD6</span>, <span class="number">0xBB</span>, <span class="number">0x59</span>, <span class="number">0x9A</span>, <span class="number">0x6A</span>, <span class="number">0x84</span>, <span class="number">0x85</span>, <span class="number">0xD3</span>, <span class="number">0x22</span>, </span><br><span class="line">  <span class="number">0xA9</span>, <span class="number">0x8E</span>, <span class="number">0xB5</span>, <span class="number">0xEA</span>, <span class="number">0xBD</span>, <span class="number">0x57</span>, <span class="number">0xDE</span>, <span class="number">0xB1</span>, <span class="number">0x6C</span>, <span class="number">0x93</span>, </span><br><span class="line">  <span class="number">0xE4</span>, <span class="number">0x74</span>, <span class="number">0x70</span>, <span class="number">0xAC</span>, <span class="number">0x1A</span>, <span class="number">0x03</span>, <span class="number">0xD9</span>, <span class="number">0x16</span>, <span class="number">0x9F</span>, <span class="number">0xBC</span>, </span><br><span class="line">  <span class="number">0x97</span>, <span class="number">0xFB</span>, <span class="number">0x85</span>, <span class="number">0xD9</span>, <span class="number">0xA6</span>, <span class="number">0x9E</span>, <span class="number">0xD4</span>, <span class="number">0xD6</span>, <span class="number">0x02</span>, <span class="number">0x59</span>, </span><br><span class="line">  <span class="number">0xD5</span>, <span class="number">0x28</span>, <span class="number">0xB3</span>, <span class="number">0x93</span>, <span class="number">0x16</span>, <span class="number">0xB6</span>, <span class="number">0xC4</span>, <span class="number">0x78</span>, <span class="number">0xC4</span>, <span class="number">0xA2</span>, </span><br><span class="line">  <span class="number">0x12</span>, <span class="number">0xD2</span>, <span class="number">0xEF</span>, <span class="number">0xB1</span>, <span class="number">0x54</span>, <span class="number">0x18</span>, <span class="number">0xFD</span>, <span class="number">0x76</span>, <span class="number">0x51</span>, <span class="number">0xA3</span>, </span><br><span class="line">  <span class="number">0x5E</span>, <span class="number">0x57</span>, <span class="number">0xB8</span>, <span class="number">0x58</span>, <span class="number">0x4B</span>, <span class="number">0x1E</span>, <span class="number">0xE2</span>, <span class="number">0x41</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RC4_setkey</span>(<span class="params">key, keytable</span>):</span><br><span class="line">    keytable_length = <span class="number">256</span><span class="comment">#len(keytable)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初始化密钥表</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(keytable_length):</span><br><span class="line">        keytable[i] = i</span><br><span class="line"></span><br><span class="line">    <span class="comment"># KSA (密钥调度算法)</span></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(keytable_length):</span><br><span class="line">        j = (j + keytable[i] + key[i % <span class="built_in">len</span>(key)]) % keytable_length</span><br><span class="line">        keytable[i], keytable[j] = keytable[j], keytable[i]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> keytable</span><br><span class="line"></span><br><span class="line"><span class="comment">#zer0pts要求的字符范围</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_printable_chars</span>(<span class="params">flag</span>):</span><br><span class="line">    filtered_flag = <span class="built_in">bytearray</span>()</span><br><span class="line">    <span class="keyword">for</span> byte <span class="keyword">in</span> flag:</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0x20</span> &lt;= byte &lt;= <span class="number">0x7E</span>:</span><br><span class="line">            filtered_flag.append(byte)</span><br><span class="line">        <span class="comment">#else:</span></span><br><span class="line">            <span class="comment">#print(&quot;ERROR&quot;)</span></span><br><span class="line">            <span class="comment">#break</span></span><br><span class="line">    <span class="keyword">return</span> filtered_flag</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gen_keytable</span>(<span class="params">keytable, enc_text</span>):</span><br><span class="line">    flag_length = <span class="built_in">len</span>(enc_text)</span><br><span class="line">    v4 = <span class="number">0</span></span><br><span class="line">    v5 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> v3 <span class="keyword">in</span> <span class="built_in">range</span>(flag_length):</span><br><span class="line">        v4 = (v4 + <span class="number">1</span>) % <span class="number">256</span></span><br><span class="line">        v5 = (keytable[v4] + v5) % <span class="number">256</span></span><br><span class="line">        keytable[v4], keytable[v5] = keytable[v5], keytable[v4]</span><br><span class="line">        <span class="comment">#flag[v3] = enc_text[v3] ^ keytable[(keytable[v5] + keytable[v4]) % 256]</span></span><br><span class="line">    <span class="keyword">return</span> v4,v5</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RC4_decrypt</span>(<span class="params">keytable, enc_text,v4,v5</span>):</span><br><span class="line">    flag_length = <span class="built_in">len</span>(enc_text)</span><br><span class="line">    flag = <span class="built_in">bytearray</span>([<span class="number">0</span>] * flag_length)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> v3 <span class="keyword">in</span> <span class="built_in">range</span>(flag_length-<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">        flag[v3] = enc_text[v3] ^ keytable[(keytable[v5] + keytable[v4]) % <span class="number">256</span>]</span><br><span class="line">        keytable[v4], keytable[v5] = keytable[v5], keytable[v4]</span><br><span class="line">        v5 = (v5-keytable[v4]) % <span class="number">256</span></span><br><span class="line">        v4 = (v4 - <span class="number">1</span>) % <span class="number">256</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得密钥表</span></span><br><span class="line">RC4_keytable = <span class="built_in">bytearray</span>([<span class="number">0</span>] * <span class="number">520</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置密钥表</span></span><br><span class="line">RC4_setkey(RC4_key, RC4_keytable)</span><br><span class="line">hex_string = <span class="string">&#x27; &#x27;</span>.join([<span class="string">f&#x27;\\x<span class="subst">&#123;byte:02X&#125;</span>&#x27;</span> <span class="keyword">for</span> byte <span class="keyword">in</span> RC4_keytable])</span><br><span class="line"><span class="comment"># 打印密钥表</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;密钥表:\n&quot;</span>, hex_string)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获得解密需要的初始值</span></span><br><span class="line">v4,v5=gen_keytable(RC4_keytable,cmp_data)</span><br><span class="line">hex_string = <span class="string">&#x27; &#x27;</span>.join([<span class="string">f&#x27;\\x<span class="subst">&#123;byte:02X&#125;</span>&#x27;</span> <span class="keyword">for</span> byte <span class="keyword">in</span> RC4_keytable])</span><br><span class="line"><span class="comment"># 打印密钥表</span></span><br><span class="line"><span class="comment">#print(&quot;密钥表:\n&quot;, hex_string)</span></span><br><span class="line"><span class="built_in">print</span>(v4,v5)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解密获取flag</span></span><br><span class="line">flag = RC4_decrypt(RC4_keytable, cmp_data,v4,v5)</span><br><span class="line">filtered_flag=filter_printable_chars(flag)</span><br><span class="line"><span class="comment"># 打印flag</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Flag:&quot;</span>, filtered_flag.decode())</span><br></pre></td></tr></table></figure>
<p>最终结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Flag: zer0pts&#123;d0n&#x27;7_4lw4y5_7ru57_d3c0mp1l3r&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/Notes/Pediy01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/Notes/Pediy01/" class="post-title-link" itemprop="url">微信多实例运行</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-10 14:19:49" itemprop="dateCreated datePublished" datetime="2023-07-10T14:19:49+08:00">2023-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-02 16:31:10" itemprop="dateModified" datetime="2023-08-02T16:31:10+08:00">2023-08-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p> ADVAPI.dll  提供高级系统功能,Advanced，如 注册表、安全性、事件日志、服务管理等 ；</p>
<p>查看API对应的源代码路径：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\um</span><br></pre></td></tr></table></figure>
<h2 id="只运行一个实例"><a href="#只运行一个实例" class="headerlink" title="只运行一个实例"></a>只运行一个实例</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CreateMutexA</span><br><span class="line">FindWindowA</span><br><span class="line">使用共享Section</span><br></pre></td></tr></table></figure>
<p>5.1节的Serial.exe只能运行一个实例。</p>
<p><img src="/categories/Notes/Pediy01/1688962133346.png" alt="1688962133346"></p>
<p><img src="/categories/Notes/Pediy01/1688963259744.png" alt="1688963259744"></p>
<p>修改FindWindow后面的判断逻辑即可。一开始改为了75(jnz)</p>
<p>此时可以运行多个，但是运行前需要找到已存在的一个窗口才能继续创建，再次修改程序，把jz改成jmp。</p>
<h2 id="微信"><a href="#微信" class="headerlink" title="微信"></a>微信</h2><p>先根据break定位关闭微信的函数<code>CloseWechat</code>，进而找到关键函数sub_405FD0，它控制着返回结果。</p>
<p><img src="/categories/Notes/Pediy01/1688970540191.png" alt="1688970540191"></p>
<p>关键函数<code>int __stdcall sub_405FD0(DWORD a1, int a2, int a3, int a4)</code></p>
<p>跟进去后，可以看到一开始检查注册表语言配置和更新配置。</p>
<p><img src="/categories/Notes/Pediy01/1688968867614.png" alt="1688968867614"></p>
<p>微信整体打开，靠WechatWin.dl里的函数。</p>
<p><img src="/categories/Notes/Pediy01/1688969199372.png" alt="1688969199372"></p>
<p>打开WechatWin.dll，发现其导入表里存在实例判断函数。</p>
<p><img src="/categories/Notes/Pediy01/1688969733507.png" alt="1688969733507"></p>
<p><img src="/categories/Notes/Pediy01/1688969749959.png" alt="1688969749959"></p>
<p>双击进入后，等待库加载完成，需要几分钟，之后x查看两个函数的上下文：</p>
<p>注意这里一定要多等一会，不然调用<code>CreateMutex</code>的地址可能检索不全。</p>
<p><img src="/categories/Notes/Pediy01/1688970084672.png" alt="1688970084672"></p>
<p>调用<code>FindWindowW</code>函数的上下文十分明显：</p>
<p><img src="/categories/Notes/Pediy01/1688971265497.png" alt="1688971265497"></p>
<p>对于上图尾行的这个大跳，是一个经典的判断Mutex是否存在的代码段。</p>
<blockquote>
<p>Mutex存在，则GetLastError返回 <code>ERROR_ALREADY_EXISTS</code>.，不存在时，返回0.</p>
</blockquote>
<p><img src="/categories/Notes/Pediy01/1688971805972.png" alt="1688971805972"></p>
<p>把jnz StartNewInstance改变成为jmp。</p>
<p>爆破成功。</p>
<p><img src="/categories/Notes/Pediy01/1688972258464.png" alt="1688972258464"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/CTF/QQ%E6%8F%90%E5%8F%96%E6%BC%8F%E6%B4%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/CTF/QQ%E6%8F%90%E5%8F%96%E6%BC%8F%E6%B4%9E/" class="post-title-link" itemprop="url">QQ Elevation复现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-07-03 14:19:49 / Modified: 14:52:20" itemprop="dateCreated datePublished" datetime="2023-07-03T14:19:49+08:00">2023-07-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>利用QQProtect.exe提权，获得NT Authority\SYSTEM权限。</p>
</blockquote>
<h2 id="漏洞成因："><a href="#漏洞成因：" class="headerlink" title="漏洞成因："></a>漏洞成因：</h2><p>QQProtect.exe没有使用ASLR保护，篡改函数指针，利用ROP链（Ret Oriented Programming，即修改函数返回指针)实现了任意代码执行。</p>
<p>1.QQProtect.exe+0x40c9f8处，有<code>任意地址写漏洞</code>。</p>
<p>待添加自己的截图，网络截图可见：</p>
<p><img src="/categories/CTF/QQ%E6%8F%90%E5%8F%96%E6%BC%8F%E6%B4%9E/image0.png" alt="image0"></p>
<p>可以在任意地址写入DWORD(1)。</p>
<p>2.QQProtectEngine.dll+0x3B4F6处，</p>
<p>待添加自己的截图，网络截图可见：</p>
<p><img src="/categories/CTF/QQ%E6%8F%90%E5%8F%96%E6%BC%8F%E6%B4%9E/image1.png" alt="image1"></p>
<p>可以完成对任意地址的指针ptr，偏移2个ptr指针类型大小的位置处，赋值为(unsigned int )(ptr+3)。</p>
<p>Affected Products:</p>
<ul>
<li>QQ 9.7.1.28940 ~ 9.7.8.29039</li>
<li>TIM 3.4.5.22071 ~ 3.4.7.22084</li>
</ul>
<p>Affected Components:</p>
<ul>
<li>QQProtect.exe 4.5.0.9424 (in TIM 3.4.5.22071)</li>
<li>QQProtect.exe 4.5.0.9426 (in QQ 9.7.1.28940)</li>
<li>QQProtectEngine.dll 4.5.0.9424 (in TIM 3.4.5.22071)</li>
<li>QQProtectEngine.dll 4.5.0.9426 (in QQ 9.7.1.28940)</li>
</ul>
<h2 id="POC"><a href="#POC" class="headerlink" title="POC"></a>POC</h2><p>POC整体用rust构建，先来解析配置文件里的内容。</p>
<h3 id="1-配置文件解析"><a href="#1-配置文件解析" class="headerlink" title="1.配置文件解析"></a>1.配置文件解析</h3><p>针对32位系统使用静态链接的C运行时，构建可执行文件。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo +stable-i686-pc-windows-msvc build --release --config <span class="string">&quot;build.rustflags = [\&quot;-C\&quot;, \&quot;target-feature=+crt-static\&quot;]&quot;</span></span><br></pre></td></tr></table></figure>
<p>对应的toml文件</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[profile.release]</span></span><br><span class="line"><span class="attr">opt-level</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="section">[profile.release.overrides.&#x27;cfg(target_os = &quot;windows&quot;)&#x27;]</span></span><br><span class="line"><span class="attr">rustflags</span> = [<span class="string">&quot;-C&quot;</span>, <span class="string">&quot;target-feature=+crt-static&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>此时，只需要<code>cargo build --release</code>即可。</p>
<p>开发过程中，要利用一些依赖库，来调用Windows API、服务和命令行参数。</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies.rhexdump]</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies.windows]</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.44.0&quot;</span></span><br><span class="line"><span class="attr">features</span> = [</span><br><span class="line">    <span class="string">&quot;Win32_Foundation&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Win32_System_LibraryLoader&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Win32_System_Threading&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Win32_System_SystemServices&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Win32_System_Console&quot;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies.windows-service]</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.5.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies.windows-args]</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.2.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#生成动态链接库，即dll文件</span></span><br><span class="line"><span class="section">[lib]</span></span><br><span class="line"><span class="attr">crate-type</span> = [<span class="string">&quot;cdylib&quot;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.定义的<code>src\lib.def</code>文件中的导出符号。</p>
<h3 id="C-名称修饰规则"><a href="#C-名称修饰规则" class="headerlink" title="C++名称修饰规则"></a>C++名称修饰规则</h3><p> C++ 的名称修饰规则，也称为名称重整（name mangling）。用于编译器生成符号表，会因平台和编译器有所不同。它将函数和变量的名称、参数类型、返回类型等信息编码成一个唯一的符号。 </p>
<p>名称修饰的目的是确保在<strong>链接阶段可以正确地解析函数和变量的符号，避免符号冲突和重复定义的问题。</strong>  为了实现不同编程语言之间的互操作性，可以使用 <code>extern &quot;C&quot;</code> 来指定使用 C 风格的符号。</p>
<blockquote>
<p>导出符号的格式是 <code>?SymbolName@ClassName@@FunctionSignature=_alias@0</code> </p>
</blockquote>
<p>下面的文件规定了导出的类和符号命，并 将所有导出符号重命名为 <code>_die</code>。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">LIBRARY</span><br><span class="line">EXPORTS</span><br><span class="line">    ?NextSiblingElement@TiXmlNode@@QAEPAVTiXmlElement@@PBD@Z=_die@0</span><br><span class="line">    ?FirstChildElement@TiXmlNode@@QAEPAVTiXmlElement@@PBD@Z=_die@0</span><br><span class="line">    ??1TiXmlDocument@@UAE@XZ=_die@0</span><br><span class="line">    ?RootElement@TiXmlDocument@@QAEPAVTiXmlElement@@XZ=_die@0</span><br><span class="line">    ?GetText@TiXmlElement@@QBEPBDXZ=_die@0</span><br><span class="line">    ?Attribute@TiXmlElement@@QBEPBDPBD@Z=_die@0</span><br><span class="line">    ?Attribute@TiXmlElement@@QBEPBDPBDPAH@Z=_die@0</span><br><span class="line">    ?LoadXML@TiXmlDocument@@QAE_NPADHW4TiXmlEncoding@@@Z=_die@0</span><br><span class="line">    ??0TiXmlDocument@@QAE@XZ=_die@0</span><br><span class="line">    DllMain</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p> <code>QAE</code> 指示该构造函数是一个非静态成员函数，</p>
<ul>
<li><code>QB</code> 表示该函数是一个非静态成员函数，并且返回一个指针。</li>
<li><code>EPBD</code> 表示函数的第一个参数是一个 <code>const char*</code> 类型的指针。</li>
<li><code>PAH</code> 表示函数的第二个参数是一个 <code>int*</code> 类型的指针。</li>
<li><code>PAVTiXmlElement 表示返回类型是一个指向</code>TiXmlElement` 类的指针。 </li>
<li><code>0TiXmlDocument@@QAE@XZ</code>中0表示该类的默认构造函数</li>
<li><code>@Z</code>：函数参数的结尾标记 ，<code>XZ</code> 表示该构造函数不接受任何参数。 </li>
</ul>
<h3 id="代码解析"><a href="#代码解析" class="headerlink" title="代码解析"></a>代码解析</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">CreateProcessAsUserW</span>(token2, <span class="literal">None</span>, <span class="title function_ invoke__">PWSTR</span>(<span class="string">&quot;cmd.exe&quot;</span>.<span class="title function_ invoke__">encode_utf16</span>().<span class="title function_ invoke__">chain</span>(<span class="title function_ invoke__">Some</span>(<span class="number">0</span>)).collect::&lt;<span class="type">Vec</span>&lt;<span class="type">u16</span>&gt;&gt;().<span class="title function_ invoke__">as_mut_ptr</span>()), <span class="literal">None</span>, <span class="literal">None</span>, FALSE, <span class="title function_ invoke__">PROCESS_CREATION_FLAGS</span>(<span class="number">0</span>), <span class="literal">None</span>, <span class="literal">None</span>, &amp;si, &amp;<span class="keyword">mut</span> pi).<span class="title function_ invoke__">ok</span>().<span class="title function_ invoke__">unwrap</span>();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/ML/AI%E4%B8%8E%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%A3%8E%E9%99%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/ML/AI%E4%B8%8E%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%A3%8E%E9%99%A9/" class="post-title-link" itemprop="url">AI与大数据风险近5年论文摘要汇</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-06-29 14:17:22 / Modified: 11:27:40" itemprop="dateCreated datePublished" datetime="2023-06-29T14:17:22+08:00">2023-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ML/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>大数据在医疗、金融、安全、管理等方面都有很多应用，可以用来化解这些领域中出现的风险；而大数据的应用本身又带来一系列安全隐患，需要靠机器学习技术去解决或缓解。</p>
<p>Prompt:本篇论文采用了{}机器学习技术，对大数据的{}{}特征进行建模，处理{分类}任务，达成了{}效果，在{}领域有所应用。</p>
<h3 id="大数据应用"><a href="#大数据应用" class="headerlink" title="大数据应用"></a>大数据应用</h3><p>大数据的一些应用,推荐系统、辅助决策、异常检测、关联分析</p>
<ol>
<li>数据驱动的决策：大数据分析可以提供大量的实时和历史数据，帮助组织做出更准确的决策。通过对海量数据进行挖掘和分析，可以发现隐藏的关联和趋势，从而指导业务决策和战略规划。</li>
<li>个性化服务和推荐系统：基于大数据分析的个性化服务和推荐系统可以根据用户的历史行为和偏好，提供定制化的产品和服务。这使得用户能够更好地满足其需求，提升用户体验。</li>
<li>预测和趋势分析：通过对大数据进行分析，可以预测未来趋势和行业发展方向。这对于市场营销、销售预测、风险管理等领域具有重要意义，可以帮助组织做出战略决策和规划。</li>
<li>预测和趋势分析：数据挖掘可以通过分析历史数据，发现潜在的趋势和模式，从而进行未来的预测。这在市场预测、销售预测、天气预测等领域具有重要应用。</li>
<li>客户细分和市场分析：通过对客户行为和偏好的分析，可以将客户划分为不同的细分群体，了解他们的需求和行为模式，并制定针对性的市场策略和营销活动。</li>
<li>金融欺诈检测：数据挖掘可以帮助金融机构检测异常交易和欺诈行为。通过分析大量的金融交易数据，可以识别潜在的欺诈模式和指标，及时采取相应的措施。</li>
<li>社交网络分析：数据挖掘可以揭示社交网络中的关系和影响力。通过分析社交媒体数据、用户之间的互动和信息传播，可以了解社交网络中的关键人物、群体动态和舆论趋势。</li>
<li>生物信息学：数据挖掘在生物信息学中发挥重要作用，例如基因表达数据的分析、蛋白质结构预测、基因组序列分析等，有助于理解生物学的复杂性和进行基因研究。</li>
<li>物流和供应链优化：通过对物流和供应链数据的挖掘和分析，可以优化物流路径、减少库存成本、提高配送效率，并优化供应链的整体运作。</li>
<li>医疗诊断和治疗：数据挖掘可以帮助医疗领域进行疾病诊断、药物选择和治疗计划的优化。通过分析医疗数据和患者病历，可以发现潜在的疾病模式和个体化的治疗方案。</li>
</ol>
<h2 id="大数据在风险管理领域的应用"><a href="#大数据在风险管理领域的应用" class="headerlink" title="大数据在风险管理领域的应用"></a>大数据在风险管理领域的应用</h2><h3 id="可靠性方面"><a href="#可靠性方面" class="headerlink" title="可靠性方面"></a>可靠性方面</h3><p> 基于新能源汽车大数据平台 ，研究电动汽车的锂离子电池可靠性问题， 电池故障诊断与健康状态预估 </p>
<p>[1]李放,闵永军,张涌.基于大数据的动力锂电池可靠性关键技术研究综述[J].储能科学与技术,2023,12(06):1981-1994.DOI:10.19799/j.cnki.2095-4239.2023.0316.</p>
<h3 id="医疗"><a href="#医疗" class="headerlink" title="医疗"></a>医疗</h3><p>在医疗领域，大数据的应用可以带来以下益处：</p>
<ol>
<li>疾病预测和诊断：通过分析大规模的医疗数据，可以发现潜在的疾病风险因素和诊断模式，提前进行疾病预测和诊断，从而提高治疗效果和患者生存率。</li>
<li>药物研发和治疗方案优化：大数据分析可以加速药物研发过程，帮助科学家识别潜在的药物靶点和候选化合物。此外，通过分析大量的患者数据，可以优化治疗方案，提供更个性化和有效的治疗。</li>
</ol>
<h3 id="金融"><a href="#金融" class="headerlink" title="金融"></a>金融</h3><ol>
<li>风险管理和欺诈检测：通过分析大数据，可以识别金融交易中的异常模式和风险指标，帮助金融机构及时发现潜在的欺诈行为，并采取相应措施进行风险管理。</li>
<li>个人信用评估和贷款决策：利用大数据分析个人的消费行为、信用记录和其他相关数据，可以更准确地评估个人的信用状况，并基于此做出贷款决策和利率定价。</li>
</ol>
<h2 id><a href="#" class="headerlink" title=" "></a> </h2><h3 id="计算机"><a href="#计算机" class="headerlink" title="计算机"></a>计算机</h3><p>隐私保护</p>
<p>[1]方滨兴,贾焰,李爱平等.大数据隐私保护技术综述[J].大数据,2016,2(01):1-18.</p>
<h3 id="环境、资源等其他方面"><a href="#环境、资源等其他方面" class="headerlink" title="环境、资源等其他方面"></a>环境、资源等其他方面</h3><h2 id="大数据带来的风险"><a href="#大数据带来的风险" class="headerlink" title="大数据带来的风险"></a>大数据带来的风险</h2><p> 大数据由于需要从网络等多个渠道收集数据，别有用心的攻击者可以进行数据投毒，污染模型，从而导致模型有后门生成。因此，大数据可能带来数据投毒风险。 </p>
<ol>
<li>数据隐私和安全：大数据涉及大量的个人敏感信息和机密数据，如个人身份信息、医疗记录、财务数据等。如果这些数据未经适当保护，可能会导致隐私泄露和滥用，甚至成为黑客攻击的目标。</li>
<li>偏见和歧视：大数据分析依赖于大量的历史数据，而这些数据可能反映了现实社会的偏见和歧视。如果不加以适当的处理，分析结果可能具有偏见性，导致不公平的结果和决策。</li>
<li>数据质量问题：大数据分析对数据的质量和准确性要求很高。如果数据存在错误、缺失或不完整，分析结果可能不准确或误导性，影响决策的可靠性。</li>
<li>安全漏洞和数据泄露：大数据系统中可能存在安全漏洞和弱点，攻击者可以利用这些漏洞来获取敏感数据或操纵分析结果。此外，数据共享和合作过程中的数据传输也可能面临被窃取或泄露的风险。</li>
</ol>
<h2 id="AI对大数据风险的解决"><a href="#AI对大数据风险的解决" class="headerlink" title="AI对大数据风险的解决"></a>AI对大数据风险的解决</h2><p>社交图谱、差分隐私、安全计算。</p>
<h2 id="金融-1"><a href="#金融-1" class="headerlink" title="金融"></a>金融</h2><h2 id="-1"><a href="#-1" class="headerlink" title=" "></a> </h2><h2 id="计算机-1"><a href="#计算机-1" class="headerlink" title="计算机"></a>计算机</h2><p>隐私保护</p>
<h2 id="环境、资源等其他方面-1"><a href="#环境、资源等其他方面-1" class="headerlink" title="环境、资源等其他方面"></a>环境、资源等其他方面</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/CTF/CTF%E9%87%8C%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/CTF/CTF%E9%87%8C%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">CTF里的常用加密算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-27 14:19:49" itemprop="dateCreated datePublished" datetime="2023-06-27T14:19:49+08:00">2023-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-06-20 16:53:38" itemprop="dateModified" datetime="2023-06-20T16:53:38+08:00">2023-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h2><h3 id="对RSA的攻击："><a href="#对RSA的攻击：" class="headerlink" title="对RSA的攻击："></a>对RSA的攻击：</h3><h2 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h2><h2 id="DES"><a href="#DES" class="headerlink" title="DES"></a>DES</h2><h2 id="RC4"><a href="#RC4" class="headerlink" title="RC4"></a>RC4</h2><p> 流密码 ， 一次一个字节地加密消息 ，速度快。</p>
<p><img src="/categories/CTF/CTF%E9%87%8C%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/1687250986520.png" alt="1687250986520"></p>
<h3 id="对RC4的攻击："><a href="#对RC4的攻击：" class="headerlink" title="对RC4的攻击："></a>对RC4的攻击：</h3><h2 id="ECC"><a href="#ECC" class="headerlink" title="ECC"></a>ECC</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/CTF/%E6%9C%80%E6%96%B0%E6%B7%B7%E6%B7%86%E6%8A%80%E6%9C%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/CTF/%E6%9C%80%E6%96%B0%E6%B7%B7%E6%B7%86%E6%8A%80%E6%9C%AF/" class="post-title-link" itemprop="url">TEB-PEB-SEH</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-20 14:19:49" itemprop="dateCreated datePublished" datetime="2023-06-20T14:19:49+08:00">2023-06-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-28 15:28:50" itemprop="dateModified" datetime="2023-08-28T15:28:50+08:00">2023-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="多态字符串混淆、"><a href="#多态字符串混淆、" class="headerlink" title="多态字符串混淆、"></a>多态字符串混淆、</h2><h2 id="基于哈希的导入解析"><a href="#基于哈希的导入解析" class="headerlink" title="基于哈希的导入解析"></a>基于哈希的导入解析</h2><h2 id="运行时常量计算"><a href="#运行时常量计算" class="headerlink" title="运行时常量计算"></a>运行时常量计算</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/ML/Few-Shot18/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/ML/Few-Shot18/" class="post-title-link" itemprop="url">GAN在小样本学习中的应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-14 16:13:22" itemprop="dateCreated datePublished" datetime="2023-06-14T16:13:22+08:00">2023-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-31 14:07:32" itemprop="dateModified" datetime="2023-07-31T14:07:32+08:00">2023-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ML/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p> Zhang R, Che T, Ghahramani Z, et al. Metagan: An adversarial approach to few-shot learning[J]. Advances in neural information processing systems, 2018, 31. <a target="_blank" rel="noopener" href="http://papers.neurips.cc/paper/7504-metagan-an-adversarial-approach-to-few-shot-learning.pdf">pdf</a></p>
</blockquote>
<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>1、小样本情况下，人利用经验和先前的知识学习任务，而传统机器学习不使用先前知识容易过拟合。</p>
<p>2.元学习是一种利用先前知识的技术，从相似任务分布上训练提取一种可迁移的模式。</p>
<p>3.半监督小样本学习：有标签的样本是很少，但是无标签的样本也可以获取的到。</p>
<h2 id="问题挑战"><a href="#问题挑战" class="headerlink" title="问题挑战"></a>问题挑战</h2><p>半监督小样本分类的元学习</p>
<p>难以从小样本里获得可泛化的决策边界。</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p><strong>核心思路：</strong>假样本可以帮助小样本分类器学到更陡峭的边界。真假决策边界是如何帮助小样本分类的？？？</p>
<h2 id="思路来源"><a href="#思路来源" class="headerlink" title="思路来源"></a>思路来源</h2><p>小样本学习很像半监督学习。修改GAN在半监督学习领域的应用，将其应用到小样本场景下。</p>
<p>1.两者都没有足够数量的有标签样本。</p>
<p>2.都能从不完美的生成器获益。</p>
<h2 id="创新点"><a href="#创新点" class="headerlink" title="创新点"></a>创新点</h2><p>对RN和MAML，叠加MetaGAN，让准确率，上升2到3个百分点。</p>
<h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><h3 id="1-数据集"><a href="#1-数据集" class="headerlink" title="1.数据集"></a>1.数据集</h3><p>Omniglot Mini-Imagenet</p>
<h3 id="2-实验内容"><a href="#2-实验内容" class="headerlink" title="2.实验内容"></a>2.实验内容</h3><p>在2个数据集上，做3类任务，实验设置有<strong>5-way 1-shot</strong>,5-way 5-shot，20-way 1-shot，20-way 5-shot。加粗部分在3类任务上都有做。</p>
<h4 id="2-1-监督小样本学习"><a href="#2-1-监督小样本学习" class="headerlink" title="2.1 监督小样本学习"></a>2.1 监督小样本学习</h4><h4 id="2-2样本级的半监督小样本学习"><a href="#2-2样本级的半监督小样本学习" class="headerlink" title="2.2样本级的半监督小样本学习"></a>2.2样本级的半监督小样本学习</h4><p>允许在任务中有一些未标记的训练样本，来自与标签相同类或者干扰类（是二者择一，还是都选？？？）。</p>
<h4 id="2-3任务级的半监督小样本学习"><a href="#2-3任务级的半监督小样本学习" class="headerlink" title="2.3任务级的半监督小样本学习"></a>2.3任务级的半监督小样本学习</h4><p>更允许无监督学习，即在support Set里和Query Set里都不加标签。</p>
<h2 id="未来研究方向"><a href="#未来研究方向" class="headerlink" title="未来研究方向"></a>未来研究方向</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/CTF/Idea%E9%9A%90%E8%97%8F%E4%BF%A1%E6%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/CTF/Idea%E9%9A%90%E8%97%8F%E4%BF%A1%E6%81%AF/" class="post-title-link" itemprop="url">Idea文件中的隐藏内容</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-06-13 14:19:49 / Modified: 11:37:38" itemprop="dateCreated datePublished" datetime="2023-06-13T14:19:49+08:00">2023-06-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:.</span><br><span class="line">├─.idea</span><br><span class="line">│  └─inspectionProfiles</span><br><span class="line">├─.ipynb_checkpoints</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/Notes/Linkers&Loaders02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/Notes/Linkers&Loaders02/" class="post-title-link" itemprop="url">第三章-目标文件格式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-05-23 14:58:58" itemprop="dateCreated datePublished" datetime="2023-05-23T14:58:58+08:00">2023-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-12-06 18:24:45" itemprop="dateModified" datetime="2023-12-06T18:24:45+08:00">2023-12-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>俞甲子等，《程序员的自我修养——链接、装载与库》，北京：电子工业出版社，2009年6月第2版。</p>
</blockquote>
<p>不放过任何一个字节。</p>
<blockquote>
<p>利用工具：gcc、readelf、objdump、size，cl</p>
<p>strace ./run跟踪程序的运行</p>
</blockquote>
<h2 id="objdump"><a href="#objdump" class="headerlink" title="objdump"></a>objdump</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> objdump -j .got -h add.so  看一下.got的段信息.</span><br><span class="line">-s 将段的内容以16进制打印</span><br><span class="line">-d 将所有包含指令的段反汇编</span><br><span class="line">- h 展示区块头的信息</span><br></pre></td></tr></table></figure>
<h2 id="gcc命令"><a href="#gcc命令" class="headerlink" title="gcc命令"></a>gcc命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-E 预处理、</span><br><span class="line">-S 编译、</span><br><span class="line">-c 汇编、</span><br><span class="line">-o 链接</span><br></pre></td></tr></table></figure>
<h2 id="readelf"><a href="#readelf" class="headerlink" title="readelf"></a>readelf</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-hlS </span><br></pre></td></tr></table></figure>
<h2 id="3-1-目标文件的格式"><a href="#3-1-目标文件的格式" class="headerlink" title="3.1 目标文件的格式"></a>3.1 目标文件的格式</h2><p>目标文件：源代码编译后但还未链接的那些中间文件（.o或者.obj）</p>
<p>静态链接库：把很多目标文件捆绑形成一个文件，再加上一些索引，可以简单理解为一个包含很多目标文件的文件包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file xxx.so</span><br><span class="line">x86_64,version 1(SYSV) </span><br></pre></td></tr></table></figure>
<p>表明该文件的兼容性，采用了Unix System V的格式规范，即COFF文件。</p>
<p><strong>注</strong>：Unix最早的可执行文件格式为a.out，无法应对共享库等概念，所以设计了COFF来解决它。</p>
<p>COFF的贡献：目标文件里引入了段机制，不同文件可以有不同数量和不同类型的段(Section节或者Segment段)；定义了调试数据格式。</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684805407488.png" alt="1684805407488"></p>
<h2 id="3-2为什么分段"><a href="#3-2为什么分段" class="headerlink" title="3.2为什么分段"></a>3.2为什么分段</h2><p>指令和数据分段的好处：</p>
<p>1、给程序指令区域单独设置可读权限，防止程序被改写。</p>
<p>2、利用局部性原理提高缓存的命中率。现代CPU缓存也设计成数据缓存和指令缓存分离。</p>
<p>3、在内存中有多个程序副本时，通过<strong>内存共享</strong>，节省内存空间。只读数据（指令；图像、文本资源）可以共享；而每个副本进程的数据区域不一样，是进程私有的，属于Private Bytes。</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684807383776.png" alt="1684807383776"></p>
<p>如图所示，Win7的exploer.exe在运行中，此刻占据的总虚存为338 740KB，它的私有数据部分占了51 360 KB，即共享部分数据占了287 380KB，也就是280多MB的空间，极大的节省了内存空间。</p>
<h2 id="3-3-段概述"><a href="#3-3-段概述" class="headerlink" title="3.3 段概述"></a>3.3 段概述</h2><p>ELF Header，描述整个文件的文件属性，包括文件是否可执行、是静态链接还是动态链接还是可执行文件（给出入口地址)、目标硬件和目标操作系统，还包括一个段表 Section Table：一个描述各个段在文件中偏移位置及段的属性的数组。<br>|                   |                                                              |<br>| ————————- | —————————————————————————————— |<br>| .bss              | 为节省存储空间，只记录<strong>未初始化</strong>数据预留的空间大小，而不存储其内容，因为其默认全部为0. |<br>| .data             | <strong>初始化的</strong>全局变量和局部静态变量                           |<br>| .text、.code      | 代码段                                                       |<br>| .rodata、.rodata1 | 只读数据段，比如字符串常量、全局const变量                    |<br>| .comment          | 存放编译器版本信息，比如字符串：”GCC:(GNU) 4.2.0”            |<br>| .note             | 额外的编译器信息，程序公司名、发布版本号等                   |<br>| .debug            | 调试信息                                                     |<br>| .line             | 调试时的行号表，源代码行号与编译后指令的对应表               |<br>| .eh_frame         | 存储异常处理框架（Exception Handling Frame）的相关信息。包括异常处理函数的调用关系、异常处理函数的地址、堆栈展开信息等。 |<br>| SHT               | 表示 “Section Header Table                                   |</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684811465144.png" alt="1684811465144"></p>
<h3 id="其他段-got和-plt"><a href="#其他段-got和-plt" class="headerlink" title="其他段 .got和.plt"></a>其他段 .got和.plt</h3><div class="table-container">
<table>
<thead>
<tr>
<th>.dynamic</th>
<th>动态链接信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>.hash</td>
<td>符号哈希表</td>
</tr>
<tr>
<td>.strtab</td>
<td>String Table，字符串表</td>
</tr>
<tr>
<td>.symtab</td>
<td>Symbol Table，符号表</td>
</tr>
<tr>
<td>.shstrtab</td>
<td>Section Header String table,段名表，集中管理段名称。不存储用户自定义的字符串，而是存储与 ELF 文件结构相关的字符串</td>
</tr>
<tr>
<td>.plt\.got</td>
<td>(Procedure Linkage Table,过程链接表)，是动态链接的跳转表，用于延时加载；       全局入口表 Global Offset Table</td>
</tr>
<tr>
<td>.init,.fini</td>
<td>程序初始化与终结代码段</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>.表示这些段名由系统保留，应用程序自定义段名不能加.，否则容易跟系统保留段名冲突。</p>
<p>一个elf文件中可以有多个.text的段。</p>
<p>一些已遗弃的段名：.sdata、.tdata、.sbss .lit4 .lit8 .reginfo .gptab .liblist .conflict</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/558522498">再看动态链接中的PLT和GOT - 读懂原理与细节</a></p>
</blockquote>
<h3 id="BSS段"><a href="#BSS段" class="headerlink" title="BSS段"></a>BSS段</h3><p>Block Started by Symbol Table  ，最初是美航符号汇编程序（1950s）的一个伪指令，被IBM保留并引用到Fortran 汇编器，用于定义符号并且为该符号预留给定数量的未初始化内存空间。</p>
<p>因为bss段没有内容，所以它在文件中不占据空间；但是，程序运行时，要占内存空间。</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684810240218.png" alt="1684810240218"></p>
<p>借助size命令，查看代码段和数据段长度。</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684810335918.png" alt="1684810335918"></p>
<p>借助objdump查看各段基本信息，<code>-x</code>查看详细信息。</p>
<p><img src="/categories/Notes/Linkers&Loaders02/1684810503471.png" alt="1684810503471"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VMA Virtual Memory Address 运行地址，PC指针所指，程序真正运行的地址空间</span><br><span class="line">LMA Load Memory Address 加载地址，程序实际存储的地址空间，大部分时候LMA=VMA。</span><br></pre></td></tr></table></figure>
<p>解释：一个初始化的全局变量+一个初始化的局部静态变量，所以.data的Size为8；同理，.bss大小为8；因为两个printf里共有13+4共17个字符（每个字符串尾还有一个\0），所以这里的rodata大小为0x11.</p>
<p>各个段属性的第二行中，CONTENTS表示该段在文件中存在，可以看到BSS段没有CONTENTS，它在ELF文件中不存在内容。</p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">static int x1=0;//则x1应该放入.bss段里，因为未初始化的值就是0，放入.bss可以节省空间。</span><br></pre></td></tr></table></figure>
<h2 id="3-5-链接的接口-符号"><a href="#3-5-链接的接口-符号" class="headerlink" title="3.5 链接的接口-符号"></a>3.5 链接的接口-符号</h2><p>链接如同拼积木，目标文件B引用A中定义的函数和变量，需要其具备独特的名字。</p>
<p>链接过程中，我们将<strong>函数和变量</strong>称为符号；其名称称为符号名。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blueinyou.com/categories/Notes/Linkers&Loaders01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blueinyou.com/photos/avatar.jpg">
      <meta itemprop="name" content="Paul C">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paul C's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/categories/Notes/Linkers&Loaders01/" class="post-title-link" itemprop="url">PE/COFF</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-05-12 14:58:58" itemprop="dateCreated datePublished" datetime="2023-05-12T14:58:58+08:00">2023-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-17 11:53:20" itemprop="dateModified" datetime="2023-07-17T11:53:20+08:00">2023-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>俞甲子等，《程序员的自我修养——链接、装载与库》，北京：电子工业出版社，2009年6月第2版。</p>
</blockquote>
<h2 id="1-5-程序的分段和分页"><a href="#1-5-程序的分段和分页" class="headerlink" title="1.5 程序的分段和分页"></a>1.5 程序的分段和分页</h2><p>解决三个问题：1.内存隔离。2.空间利用。3.重定位。</p>
<p>本质上是增加了一个中间层，即虚存，这样就可以避免在编写程序时还要考虑详细的地址分配问题了。为了内存隔离，分段；为了细粒度的空间利用，分页。</p>
<p>CPU-&gt;虚拟地址—&gt;MMU(Memory Management Unit，内存管理单元)—&gt;物理地址。</p>
<h2 id="2-1-构建过程"><a href="#2-1-构建过程" class="headerlink" title="2.1 构建过程"></a>2.1 构建过程</h2><p>预编译：.cpp/.cxx.,.hpp——&gt;.i,.ii，处理所有的”#”预编译命令并递归插入和展开宏命令，删除注释，加入行号和文件名标识，保留#pragma编译器指令。</p>
<p>编译：gcc -S/cc1 hello.c -o hello.s。完成词法分析和语法分析，生成中间代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;...&gt; search starts here:</span><br><span class="line">/usr/lib/gcc/x86_64-linux-gnu/11/include</span><br><span class="line">/usr/local/include</span><br><span class="line">/usr/include/x86_64-linux-gnu</span><br><span class="line">/usr/include</span><br></pre></td></tr></table></figure>
<p>汇编：gcc -c /as hello.s -o hello.o。把汇编符号翻译为机器码。</p>
<p>链接：ld，最终确定各个符号的绝对地址，完成对指令引用的符号地址的校正，需要一大堆文件。</p>
<h3 id><a href="#" class="headerlink" title=" "></a> </h3><h2 id="2-2-编译原理概述"><a href="#2-2-编译原理概述" class="headerlink" title="2.2 编译原理概述"></a>2.2 编译原理概述</h2><p>词法分析，Scanner—&gt;Tokens，识别记号，同时叫标识符放到符号表(lex)。</p>
<p>语法分析，Parser—&gt;Syntax tree，关于编译器的编译器(yacc)。</p>
<p>语义分析：Semantic Analyzer—&gt;Commented Syntax Tree（注释语法树），只能分析静态语义：声明、类型匹配转换（在编译器可以确定的语义，其他的等待程序运行（除0异常）时才能确定）</p>
<p>中间代码生成：使得编译器可以拆分为前后端。非常接近目标代码，但是跟目标机器与运行时环境无关。不包含数据尺寸、地址和寄存器名字。</p>
<p>目标代码生成与优化：生成器和优化器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LEA,基址比例变址寻址（Load Effective Address），进行地址的计算后将算得的结果放入存储中，不会把结果地址的内存数据实际加载到寄存器里。用于高效地进行一些复杂的地址计算，例如数组索引、数据结构访问等，而无需实际读写内存</span><br></pre></td></tr></table></figure>
<h2 id="2-3-链接器年龄比编译器更长"><a href="#2-3-链接器年龄比编译器更长" class="headerlink" title="2.3 链接器年龄比编译器更长"></a>2.3 链接器年龄比编译器更长</h2><p>纸带编程时，一些跳转都是绝对地址，需要人为计算，一旦指令间增删其他指令，所有目标地址都要重新人工计算<strong>（重定位，Relocation，每个要被修正的地方叫一个重定位入口，Relocation Entry)</strong>，一条纸带上的指令很麻烦，多条纸带间更是灾难。</p>
<p>引入符号（对函数和变量位置的助记符），计算符号地址的过程让汇编器自动完成，方便程序的模块化。</p>
<p>程序之间的接口就是这些符号，类似于拼图，我少这一部分，你恰好多这一部分，每个模块放到合适的位置，就是一幅完整的有意义的图。</p>
<h2 id="2-4-静态链接是什么玩意？"><a href="#2-4-静态链接是什么玩意？" class="headerlink" title="2.4 静态链接是什么玩意？"></a>2.4 静态链接是什么玩意？</h2><p>详细介绍在第4章。</p>
<p>链接过程包括：地址和空间分配、Symbol Resolution（符号决议：静态链接，绑定：动态链接）和重定位。</p>
<p><strong>库：</strong>常用的代码编译成目标文件存放，例如运行时库。</p>
<h2 id="5-2一些历史"><a href="#5-2一些历史" class="headerlink" title="5.2一些历史"></a>5.2一些历史</h2><p>DEC（Degital Equipment Corp.)被 康柏电脑 收购， 康柏电脑02年又被惠普（1939）收购。DEC推出的VAX/VMS（Virtual Address eXtension/System） ，是一个最先使用权限管理和容错机制的多任务OS， 提供高性能、可靠性和安全性 。微软开发Win NT时，最初成员来自于DEC的VAX/VMS小组，所以Windows的PE格式来自于DEC的VAX/VMS上的COFF（Common Object File Format）文件格式。</p>
<p> 贝尔实验室 （Bell Telephone Laboratories， 1925 ）  —&gt;  肖克利半导体实验室（Shockley Semiconductor Laboratory，1955） —&gt; 仙童半导体（Fairchild Semiconductor，1957）  —&gt;AMD(1968)，Intel(1968) —&gt;Microsoft（操作系统，1975）。</p>
<p> SGI（Silicon Graphics, Inc.，1982） —&gt;NVIDA（正在收购ARM（移动处理器），1993）， Netscape  （1994年，开源了 Netscape Navigator（打不过微软IE） ，发展成为 Mozilla Firefox 。</p>
<p>Google （创建者为Stanford University博士，PageRank算法： Google搜索引擎的核心， 通过链接关系评估网页的重要性  ， 1998 ）</p>
<p><strong>思路：</strong>链接多的代码块，也可以权重传递和赋予它高的权重值。</p>
<ul>
<li><p>COFF:VC++产生的目标文件格式。</p>
</li>
<li><p>PE：Win平台下的可执行文件格式，和ELF都是基于段的相同结构， 是COFF的一种扩展。对于64位系统，将PE中的32位字段改为64字段，叫做PE32+。</p>
</li>
<li><p>映像文件Image File：因为PE文件在装载时会被映射到进程的虚拟空间中运行，它是进程虚拟空间的映像，所以PE可执行文件又可称为映像文件。</p>
</li>
</ul>
<h3 id="SMP与多核"><a href="#SMP与多核" class="headerlink" title="SMP与多核"></a>SMP与多核</h3><p>服务器要的是 并发吞吐 ，要CPU核数、要线程数、要大的L2/L3缓存。</p>
<p>而PC要的是单核频率。</p>
<p>截至2023年5月12日，至强的处理器基准频率基本在4GHz以下， 酷睿i9-13900KS 睿频最高为6GHz（受生产工艺影响）。出于性能需求发展出多处理器，SMP（symmetrical）是其中的常见形式，由于成本高，通过共用缓存，SMP发展成为多核处理器。</p>
<h3 id="段名"><a href="#段名" class="headerlink" title="段名"></a>段名</h3><p>段名<strong>只具有提示作用</strong>，没有实际意义。不同编译器产生的段名不同，VC++用’.code’和’.data’。</p>
<p>使用链接脚本来控制link时，段名含义一般是固定的。</p>
<h2 id="自定义段"><a href="#自定义段" class="headerlink" title="自定义段"></a>自定义段</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//GCC，扩展属性，将变量或者函数放入自定义段中</span></span><br><span class="line">__atribute__((<span class="built_in">section</span>(<span class="string">&quot;name&quot;</span>)))</span><br><span class="line"><span class="comment">//要放入name段的全局变量或者函数</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//VC++中，编译指示：把全局变量放到FOO段里</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> data_seg(<span class="string">&quot;FOO&quot;</span>)</span></span><br><span class="line"><span class="type">int</span> global =<span class="number">1</span>;</span><br><span class="line"><span class="comment">//把编译器指示换回来，此时开始，全局变量和局部变量恢复到放入.data中</span></span><br><span class="line"><span class="meta">#pragama data_seg(<span class="string">&quot;.data&quot;</span>)</span></span><br></pre></td></tr></table></figure>
<p>使用VS Command Prompt，编译：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#编译，不调用链接器，禁用Microsoft C/C++语法扩展，生成标准的C/C++目标文件</span></span><br><span class="line">cl /c /Za SimpleSection.c</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/cpp/build/reference/microsoft-extensions-to-c-and-cpp?view=msvc-170">Microsoft C/C++语法扩展</a>，编译器会自动定义<code>__STDC__</code>这个宏。</p>
<p>利用VS目标文件查看工具查看COFF格式或PE格式，详细/简介。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dumpbin  [/all,summary] hw2.obj &gt;hw2_section.txt</span><br></pre></td></tr></table></figure>
<p> C runtime library (UCRT) </p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/windows/win32/debug/pe-format">微软的PE文件格式定义</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Paul C"
      src="https://blueinyou.com/photos/avatar.jpg">
  <p class="site-author-name" itemprop="name">Paul C</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">179</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">63</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/memoryofsnow" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;memoryofsnow" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2215489940@qq.com" title="E-Mail → mailto:2215489940@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/jiyi_guoshu" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;jiyi_guoshu" rel="noopener" target="_blank"><i class="fab fa-csdn fa-fw"></i>CSDN</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Paul C</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
